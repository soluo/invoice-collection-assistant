<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TradePay - All Invoices</title>
    
    <!-- Fonts: Rubik -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,400&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.12.0/dist/cdn.min.js"></script>
    
    <!-- FontAwesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Rubik', 'sans-serif'],
                    },
                    colors: {
                        brand: {
                            50: '#fff7ed',
                            100: '#ffedd5',
                            200: '#fed7aa',
                            300: '#fdba74',
                            400: '#fb923c',
                            500: '#f97316', // Primary Orange
                            600: '#ea580c',
                            700: '#c2410c',
                            800: '#9a3412',
                            900: '#7c2d12',
                        },
                        slate: {
                            850: '#15202e',
                            900: '#0f172a',
                        }
                    },
                    boxShadow: {
                        'glass': '0 4px 30px rgba(0, 0, 0, 0.1)',
                        'card': '0 10px 40px -10px rgba(0,0,0,0.05)',
                        'glow': '0 0 20px rgba(249, 115, 22, 0.3)',
                        'inner-light': 'inset 0 2px 4px 0 rgba(255, 255, 255, 0.3)',
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Pattern Background */
        .bg-grid-pattern {
            background-image: radial-gradient(#e5e7eb 1px, transparent 1px);
            background-size: 24px 24px;
        }
        
        [x-cloak] { display: none !important; }
        
        /* Custom Scrollbar for Table */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f5f9; 
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 3px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }

        .fade-enter-active, .fade-leave-active {
            transition: opacity 0.3s ease;
        }
        .fade-enter-from, .fade-leave-to {
            opacity: 0;
        }
    </style>
</head>
<body class="font-sans antialiased text-slate-800 bg-slate-50 min-h-screen flex flex-col selection:bg-brand-500 selection:text-white relative"
      x-data="invoiceApp()">

    <!-- Toast Notification -->
    <div class="fixed bottom-4 right-4 z-50 flex flex-col gap-2 pointer-events-none">
        <template x-for="toast in toasts" :key="toast.id">
            <div x-show="toast.visible" 
                 x-transition:enter="transition ease-out duration-300"
                 x-transition:enter-start="translate-y-2 opacity-0"
                 x-transition:enter-end="translate-y-0 opacity-100"
                 x-transition:leave="transition ease-in duration-300"
                 x-transition:leave-start="translate-y-0 opacity-100"
                 x-transition:leave-end="translate-y-2 opacity-0"
                 class="bg-slate-900 text-white px-4 py-3 rounded-lg shadow-xl flex items-center gap-3 min-w-[300px] pointer-events-auto border-l-4 border-brand-500">
                <i class="fa-solid fa-circle-check text-brand-500"></i>
                <div>
                    <h4 class="font-bold text-sm" x-text="toast.title"></h4>
                    <p class="text-xs text-slate-300" x-text="toast.message"></p>
                </div>
            </div>
        </template>
    </div>

    <!-- Background Pattern -->
    <div class="fixed inset-0 z-0 bg-grid-pattern opacity-50 pointer-events-none"></div>

    <!-- Navigation -->
    <header class="sticky top-0 z-40 bg-white/90 backdrop-blur-md border-b border-slate-200 shadow-sm">
        <div class="container mx-auto px-4 md:px-6 h-16 flex items-center justify-between">
            <!-- Logo -->
            <a href="#" class="flex items-center gap-2 group">
                <div class="w-8 h-8 bg-brand-500 rounded-lg flex items-center justify-center text-white text-sm shadow-lg group-hover:scale-105 transition-transform">
                    <i class="fa-solid fa-helmet-safety"></i>
                </div>
                <span class="text-xl font-bold tracking-tight text-slate-900">Trade<span class="text-brand-500">Pay</span></span>
            </a>

            <!-- Search Bar (Desktop) -->
            <div class="hidden md:flex items-center flex-1 max-w-md mx-8 relative">
                <i class="fa-solid fa-magnifying-glass absolute left-3 text-slate-400 text-sm"></i>
                <input type="text" 
                       x-model="search" 
                       placeholder="Search invoices, clients, or jobs..." 
                       class="w-full bg-slate-100 border border-transparent focus:bg-white focus:border-brand-500 focus:ring-2 focus:ring-brand-100 rounded-lg py-2 pl-10 pr-4 text-sm transition-all outline-none">
            </div>

            <!-- Right Nav -->
            <div class="flex items-center gap-4">
                <button class="relative w-9 h-9 rounded-full bg-slate-50 hover:bg-slate-100 text-slate-600 flex items-center justify-center transition-colors border border-slate-200">
                    <i class="fa-regular fa-bell"></i>
                    <span class="absolute top-1 right-2 w-2 h-2 bg-red-500 rounded-full border border-white"></span>
                </button>
                <div class="h-8 w-px bg-slate-200"></div>
                <button class="flex items-center gap-2 hover:bg-slate-50 p-1 pr-3 rounded-full transition-colors border border-transparent hover:border-slate-200">
                    <img src="https://randomuser.me/api/portraits/men/32.jpg" class="w-8 h-8 rounded-full border border-slate-200" alt="Profile">
                    <div class="hidden sm:block text-left">
                        <div class="text-xs font-bold text-slate-800">Mike Builder</div>
                        <div class="text-[10px] text-slate-500 uppercase tracking-wide">Pro Plan</div>
                    </div>
                    <i class="fa-solid fa-chevron-down text-xs text-slate-400 ml-1"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Main App Content -->
    <main class="flex-grow container mx-auto px-4 md:px-6 py-8 relative z-10">
        
        <!-- Header Section -->
        <div class="flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8">
            <div>
                <h1 class="text-2xl md:text-3xl font-extrabold text-slate-900">Invoices</h1>
                <p class="text-slate-500 mt-1">Manage your payments and automate client reminders.</p>
            </div>
            <div class="flex gap-3">
                <button class="px-4 py-2 bg-white border border-slate-200 text-slate-700 font-semibold rounded-xl hover:bg-slate-50 hover:border-slate-300 transition-all shadow-sm flex items-center gap-2">
                    <i class="fa-solid fa-file-export text-slate-400"></i>
                    Export
                </button>
                <button @click="showUploadModal = true" class="px-5 py-2 bg-brand-500 text-white font-bold rounded-xl shadow-lg shadow-brand-500/30 hover:bg-brand-600 hover:shadow-brand-500/50 hover:-translate-y-0.5 transition-all flex items-center gap-2">
                    <i class="fa-solid fa-plus"></i>
                    New Invoice
                </button>
            </div>
        </div>

        <!-- Stats Cards -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <!-- Card 1 -->
            <div class="bg-white p-5 rounded-xl shadow-card border border-slate-100 flex items-center justify-between group cursor-pointer hover:border-brand-200 transition-colors">
                <div>
                    <p class="text-xs font-bold text-slate-500 uppercase tracking-wider mb-1">Total Outstanding</p>
                    <h3 class="text-2xl font-extrabold text-slate-900">$12,450.00</h3>
                    <div class="flex items-center gap-1 text-xs font-medium text-green-600 mt-1">
                        <i class="fa-solid fa-arrow-trend-up"></i>
                        <span>+12% vs last month</span>
                    </div>
                </div>
                <div class="w-12 h-12 rounded-lg bg-blue-50 text-blue-500 flex items-center justify-center text-xl group-hover:bg-blue-500 group-hover:text-white transition-all">
                    <i class="fa-solid fa-file-invoice-dollar"></i>
                </div>
            </div>
            <!-- Card 2: Overdue (Attention grabbing) -->
            <div class="bg-white p-5 rounded-xl shadow-card border border-slate-100 flex items-center justify-between group cursor-pointer hover:border-red-200 transition-colors relative overflow-hidden">
                <div class="absolute right-0 top-0 w-16 h-16 bg-red-500/5 rounded-bl-full"></div>
                <div class="relative z-10">
                    <p class="text-xs font-bold text-slate-500 uppercase tracking-wider mb-1">Overdue</p>
                    <h3 class="text-2xl font-extrabold text-red-600">$4,200.00</h3>
                    <div class="flex items-center gap-1 text-xs font-medium text-red-500 mt-1">
                        <i class="fa-solid fa-circle-exclamation"></i>
                        <span>3 Invoices require action</span>
                    </div>
                </div>
                <div class="relative z-10 w-12 h-12 rounded-lg bg-red-50 text-red-500 flex items-center justify-center text-xl group-hover:bg-red-500 group-hover:text-white transition-all">
                    <i class="fa-regular fa-clock"></i>
                </div>
            </div>
            <!-- Card 3 -->
            <div class="bg-white p-5 rounded-xl shadow-card border border-slate-100 flex items-center justify-between group cursor-pointer hover:border-yellow-200 transition-colors">
                <div>
                    <p class="text-xs font-bold text-slate-500 uppercase tracking-wider mb-1">Drafts</p>
                    <h3 class="text-2xl font-extrabold text-slate-900">$1,850.00</h3>
                    <div class="flex items-center gap-1 text-xs font-medium text-slate-400 mt-1">
                        <span>Ready to send</span>
                    </div>
                </div>
                <div class="w-12 h-12 rounded-lg bg-yellow-50 text-yellow-600 flex items-center justify-center text-xl group-hover:bg-yellow-500 group-hover:text-white transition-all">
                    <i class="fa-solid fa-pencil"></i>
                </div>
            </div>
        </div>

        <!-- Filters & Table Container -->
        <div class="bg-white border border-slate-200 rounded-2xl shadow-card overflow-hidden">
            
            <!-- Toolbar -->
            <div class="p-5 border-b border-slate-100 flex flex-col md:flex-row md:items-center justify-between gap-4">
                
                <!-- Filter Tabs -->
                <div class="flex p-1 bg-slate-100 rounded-lg self-start">
                    <template x-for="item in ['All', 'Paid', 'Overdue', 'Drafts']">
                        <button @click="filter = item.toLowerCase()" 
                                :class="filter === item.toLowerCase() ? 'bg-white text-slate-900 shadow-sm' : 'text-slate-500 hover:text-slate-700'"
                                class="px-4 py-1.5 rounded-md text-sm font-bold transition-all" x-text="item"></button>
                    </template>
                </div>

                <!-- Sort/Filter Actions -->
                <div class="flex items-center gap-3">
                    <div class="md:hidden relative w-full">
                         <i class="fa-solid fa-magnifying-glass absolute left-3 top-2.5 text-slate-400 text-sm"></i>
                        <input type="text" x-model="search" placeholder="Search..." class="w-full bg-slate-50 border border-slate-200 rounded-lg py-2 pl-9 pr-3 text-sm">
                    </div>
                    <button class="hidden md:flex items-center gap-2 text-sm font-medium text-slate-500 hover:text-slate-800 px-3 py-2 rounded-lg hover:bg-slate-50 transition-colors">
                        <i class="fa-solid fa-arrow-down-wide-short"></i>
                        <span>Sort</span>
                    </button>
                    <button class="hidden md:flex items-center gap-2 text-sm font-medium text-slate-500 hover:text-slate-800 px-3 py-2 rounded-lg hover:bg-slate-50 transition-colors">
                        <i class="fa-solid fa-filter"></i>
                        <span>Filter</span>
                    </button>
                </div>
            </div>

            <!-- Table -->
            <div class="overflow-x-auto custom-scrollbar">
                <table class="w-full text-left border-collapse">
                    <thead>
                        <tr class="bg-slate-50 border-b border-slate-200 text-xs font-bold text-slate-500 uppercase tracking-wider">
                            <th class="px-6 py-4 w-12">
                                <input type="checkbox" class="rounded border-slate-300 text-brand-500 focus:ring-brand-500 w-4 h-4 cursor-pointer">
                            </th>
                            <th class="px-6 py-4 cursor-pointer hover:text-brand-600 transition-colors group">
                                Client / Project <i class="fa-solid fa-sort ml-1 opacity-20 group-hover:opacity-100"></i>
                            </th>
                            <th class="px-6 py-4 cursor-pointer hover:text-brand-600 transition-colors">Status</th>
                            <th class="px-6 py-4 text-right cursor-pointer hover:text-brand-600 transition-colors">Amount</th>
                            <th class="px-6 py-4">Next Reminder</th>
                            <th class="px-6 py-4 text-right">Actions</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-100">
                        <template x-for="(invoice, index) in filteredInvoices" :key="invoice.id">
                            <tr class="hover:bg-slate-50 transition-colors group">
                                <td class="px-6 py-4">
                                    <input type="checkbox" class="rounded border-slate-300 text-brand-500 focus:ring-brand-500 w-4 h-4 cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity checked:opacity-100">
                                </td>
                                <td class="px-6 py-4">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm shadow-sm"
                                             :class="invoice.avatarColor">
                                            <span x-text="invoice.client.substring(0,2).toUpperCase()"></span>
                                        </div>
                                        <div>
                                            <div class="font-bold text-slate-900" x-text="invoice.client"></div>
                                            <div class="text-xs text-slate-500 flex items-center gap-1">
                                                <i class="fa-solid fa-hashtag text-[10px]"></i>
                                                <span x-text="invoice.id"></span>
                                                <span class="mx-1">â€¢</span>
                                                <span x-text="invoice.project"></span>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                                <td class="px-6 py-4">
                                    <span class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold border"
                                          :class="{
                                            'bg-green-50 text-green-700 border-green-200': invoice.status === 'Paid',
                                            'bg-red-50 text-red-700 border-red-200': invoice.status === 'Overdue',
                                            'bg-yellow-50 text-yellow-700 border-yellow-200': invoice.status === 'Draft',
                                            'bg-blue-50 text-blue-700 border-blue-200': invoice.status === 'Scheduled'
                                          }">
                                        <span class="w-1.5 h-1.5 rounded-full" 
                                              :class="{
                                                'bg-green-500': invoice.status === 'Paid',
                                                'bg-red-500': invoice.status === 'Overdue',
                                                'bg-yellow-500': invoice.status === 'Draft',
                                                'bg-blue-500': invoice.status === 'Scheduled'
                                              }"></span>
                                        <span x-text="invoice.status"></span>
                                    </span>
                                </td>
                                <td class="px-6 py-4 text-right">
                                    <div class="font-bold text-slate-900" x-text="invoice.amount"></div>
                                    <div class="text-xs text-slate-400">Due <span x-text="invoice.dueDate"></span></div>
                                </td>
                                <td class="px-6 py-4">
                                    <!-- Reminder Logic -->
                                    <div x-show="invoice.status === 'Overdue' || invoice.status === 'Scheduled'" class="flex items-center gap-2">
                                        <div class="w-8 h-8 rounded-full bg-brand-50 text-brand-500 flex items-center justify-center text-xs">
                                            <i class="fa-solid fa-robot"></i>
                                        </div>
                                        <div>
                                            <div class="text-xs font-bold text-slate-700" x-text="invoice.nextReminder"></div>
                                            <div class="text-[10px] text-slate-400">Auto-pilot</div>
                                        </div>
                                    </div>
                                    <div x-show="invoice.status === 'Paid'" class="text-xs text-slate-400 italic">
                                        Complete
                                    </div>
                                    <div x-show="invoice.status === 'Draft'" class="text-xs text-slate-400">
                                        Not sent yet
                                    </div>
                                </td>
                                <td class="px-6 py-4 text-right">
                                    <div class="flex items-center justify-end gap-2">
                                        <button x-show="invoice.status === 'Overdue'" 
                                                @click="sendReminder(invoice.id)"
                                                class="text-xs bg-brand-50 text-brand-600 hover:bg-brand-100 hover:text-brand-700 px-3 py-1.5 rounded-md font-bold transition-colors">
                                            Remind
                                        </button>
                                        <button class="w-8 h-8 rounded-full hover:bg-slate-100 text-slate-400 hover:text-slate-600 transition-colors flex items-center justify-center">
                                            <i class="fa-solid fa-ellipsis-vertical"></i>
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </template>
                        
                        <!-- Empty State -->
                        <tr x-show="filteredInvoices.length === 0">
                            <td colspan="6" class="px-6 py-12 text-center">
                                <div class="w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-300 text-2xl">
                                    <i class="fa-solid fa-magnifying-glass"></i>
                                </div>
                                <h3 class="text-slate-900 font-bold mb-1">No invoices found</h3>
                                <p class="text-slate-500 text-sm">Try adjusting your filters or search terms.</p>
                                <button @click="filter = 'all'; search = ''" class="mt-4 text-brand-500 font-medium hover:underline text-sm">Clear filters</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Pagination -->
            <div class="bg-white border-t border-slate-100 px-6 py-4 flex items-center justify-between">
                <p class="text-sm text-slate-500">Showing <span class="font-bold text-slate-800">1</span> to <span class="font-bold text-slate-800" x-text="filteredInvoices.length"></span> of <span class="font-bold text-slate-800" x-text="invoices.length"></span> results</p>
                <div class="flex gap-2">
                    <button class="px-3 py-1 border border-slate-200 rounded-md text-sm text-slate-400 hover:bg-slate-50 disabled:opacity-50" disabled>Previous</button>
                    <button class="px-3 py-1 bg-brand-500 text-white rounded-md text-sm font-bold shadow-md shadow-brand-500/20">1</button>
                    <button class="px-3 py-1 border border-slate-200 rounded-md text-sm text-slate-600 hover:bg-slate-50 hover:text-brand-500 hover:border-brand-200">2</button>
                    <button class="px-3 py-1 border border-slate-200 rounded-md text-sm text-slate-600 hover:bg-slate-50 hover:text-brand-500 hover:border-brand-200">3</button>
                    <button class="px-3 py-1 border border-slate-200 rounded-md text-sm text-slate-600 hover:bg-slate-50 hover:text-brand-500 hover:border-brand-200">Next</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Upload Modal (Hidden by default) -->
    <div x-show="showUploadModal" style="display: none;" class="fixed inset-0 z-50 flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-slate-900/40 backdrop-blur-sm" @click="showUploadModal = false"></div>
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-lg relative z-10 overflow-hidden animate-float">
            <div class="p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50">
                <h3 class="font-bold text-lg text-slate-800">Upload Invoice</h3>
                <button @click="showUploadModal = false" class="text-slate-400 hover:text-slate-600"><i class="fa-solid fa-xmark text-xl"></i></button>
            </div>
            <div class="p-8">
                <div class="border-2 border-dashed border-brand-200 bg-brand-50 rounded-xl h-48 flex flex-col items-center justify-center cursor-pointer hover:bg-brand-100 transition-colors group">
                    <div class="w-16 h-16 bg-white rounded-full shadow-md flex items-center justify-center text-brand-500 text-2xl mb-4 group-hover:scale-110 transition-transform">
                        <i class="fa-solid fa-cloud-arrow-up"></i>
                    </div>
                    <p class="font-bold text-brand-800">Click to browse</p>
                    <p class="text-xs text-brand-600 mt-1">Supports PDF, JPG, PNG</p>
                </div>
                <div class="mt-6 flex justify-end gap-3">
                    <button @click="showUploadModal = false" class="px-4 py-2 text-slate-600 font-medium hover:bg-slate-100 rounded-lg">Cancel</button>
                    <button @click="showUploadModal = false; triggerToast('Success', 'Invoice uploaded for processing')" class="px-4 py-2 bg-brand-500 text-white font-bold rounded-lg shadow-lg shadow-brand-500/30 hover:bg-brand-600">Upload</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-white border-t border-slate-200 py-8 mt-auto">
        <div class="container mx-auto px-4 text-center text-xs text-slate-400">
            <p>&copy; 2023 TradePay Inc. Designed for Tradespeople.</p>
            <div class="flex justify-center gap-4 mt-2">
                <a href="#" class="hover:text-brand-500">Privacy</a>
                <a href="#" class="hover:text-brand-500">Terms</a>
                <a href="#" class="hover:text-brand-500">Help</a>
            </div>
        </div>
    </footer>

    <!-- Alpine Logic -->
    <script>
        function invoiceApp() {
            return {
                filter: 'all',
                search: '',
                showUploadModal: false,
                toasts: [],
                
                // Mock Data
                invoices: [
                    { id: '#INV-2044', client: 'Smith Renovation', project: 'Kitchen Remodel', amount: '$4,250.00', status: 'Paid', dueDate: 'Oct 2, 2023', nextReminder: '-', avatarColor: 'bg-blue-500' },
                    { id: '#INV-2043', client: 'Downtown Cafe', project: 'Lighting Install', amount: '$1,200.00', status: 'Overdue', dueDate: 'Sep 28, 2023', nextReminder: 'Tomorrow', avatarColor: 'bg-purple-500' },
                    { id: '#INV-2042', client: 'Miller Residence', project: 'Bathroom Tiling', amount: '$2,800.00', status: 'Overdue', dueDate: 'Sep 25, 2023', nextReminder: 'Today', avatarColor: 'bg-green-500' },
                    { id: '#INV-2041', client: 'TechHub Office', project: 'HVAC Maintenance', amount: '$850.00', status: 'Draft', dueDate: '-', nextReminder: '-', avatarColor: 'bg-orange-500' },
                    { id: '#INV-2040', client: 'Sarah Connor', project: 'Security System', amount: '$3,100.00', status: 'Scheduled', dueDate: 'Oct 15, 2023', nextReminder: 'Oct 18', avatarColor: 'bg-pink-500' },
                    { id: '#INV-2039', client: 'Green Garden', project: 'Exterior Lighting', amount: '$600.00', status: 'Paid', dueDate: 'Sep 10, 2023', nextReminder: '-', avatarColor: 'bg-teal-500' },
                    { id: '#INV-2038', client: 'West Side Apts', project: 'Unit 4 Rewire', amount: '$1,500.00', status: 'Overdue', dueDate: 'Sep 20, 2023', nextReminder: 'Oct 5', avatarColor: 'bg-indigo-500' },
                ],

                get filteredInvoices() {
                    return this.invoices.filter(invoice => {
                        // Text Search
                        const searchLower = this.search.toLowerCase();
                        const matchesSearch = invoice.client.toLowerCase().includes(searchLower) || 
                                              invoice.project.toLowerCase().includes(searchLower) ||
                                              invoice.id.toLowerCase().includes(searchLower);
                        
                        // Status Filter
                        let matchesFilter = true;
                        if (this.filter === 'overdue') matchesFilter = invoice.status === 'Overdue';
                        if (this.filter === 'paid') matchesFilter = invoice.status === 'Paid';
                        if (this.filter === 'drafts') matchesFilter = invoice.status === 'Draft';

                        return matchesSearch && matchesFilter;
                    });
                },

                sendReminder(id) {
                    // Find invoice and update status for visual feedback
                    const index = this.invoices.findIndex(inv => inv.id === id);
                    if(index !== -1) {
                        this.triggerToast('Reminder Sent', `Reminder sent to ${this.invoices[index].client}`);
                        // Simulate updating local state
                        // In a real app, this would be an API call
                    }
                },

                triggerToast(title, message) {
                    const id = Date.now();
                    this.toasts.push({ id, title, message, visible: true });
                    setTimeout(() => {
                        this.removeToast(id);
                    }, 3000);
                },

                removeToast(id) {
                    const index = this.toasts.findIndex(t => t.id === id);
                    if (index > -1) {
                        this.toasts[index].visible = false;
                        setTimeout(() => {
                            this.toasts = this.toasts.filter(t => t.id !== id);
                        }, 300); // Wait for transition
                    }
                }
            }
        }
    </script>
</body>
</html>
