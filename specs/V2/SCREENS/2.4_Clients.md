# 2.4 Clients

**Fichier** : `src/pages/Clients.tsx` (√† cr√©er)
**Maquette** : `specs/V2/mockups/clients.html`
**Statut** : üî¥ Non commenc√©

---

## T√¢ches

### 2.4.1 Cr√©er route `/clients`
- [ ] Ajouter dans `App.tsx`

### 2.4.2 Grille responsive
- [ ] Layout : `grid-cols-1 md:grid-cols-2 lg:grid-cols-3`
- [ ] Gap : 6

### 2.4.3 Cards clients
- [ ] Nom client (heading)
- [ ] Contact principal (nom + email)
- [ ] Badge statut : En retard / √Ä jour / En cours
- [ ] Bouton "Voir le dossier" ‚Üí Ouvre panel lat√©ral

### 2.4.4 Panel lat√©ral coulissant (Sheet)
- [ ] shadcn Sheet component (position: right)
- [ ] Max-width : 2xl
- [ ] Fermeture : Click backdrop ou X

### 2.4.5 Contenu panel - Header KPIs
- [ ] Total en retard (‚Ç¨)
- [ ] En cours (‚Ç¨)
- [ ] Total factur√© (12 mois)
- [ ] D√©lai paiement moyen

### 2.4.6 Contenu panel - Onglets
- [ ] Onglet 1 : Contacts (gestion multi-contacts)
- [ ] Onglet 2 : Factures (liste des factures du client)
- [ ] Onglet 3 : Informations (d√©tails client)

### 2.4.7 Onglet Contacts - Gestion multi-contacts
- [ ] Liste contacts avec : Nom, Email, T√©l√©phone, "Par d√©faut" (checkbox)
- [ ] Bouton "+ Ajouter un contact" ‚Üí Modal formulaire
- [ ] Actions : √âditer, Supprimer (sauf si dernier contact)

---

## Backend requis

- [ ] Table `clients`
  - Champs : name, organizationId, status, createdAt, createdBy
- [ ] Table `clientContacts`
  - Champs : clientId, name, email, phone, isDefault, createdAt
- [ ] Query `clients.list` (avec stats)
- [ ] Query `clients.getDetail` (avec contacts + factures)
- [ ] Mutations CRUD : `clients.create`, `clients.update`, `clients.delete`
- [ ] Mutations CRUD contacts : `clientContacts.create`, `clientContacts.update`, `clientContacts.delete`, `clientContacts.setDefault`
- [ ] Lier `invoices.clientId` ‚Üí `clients._id`
