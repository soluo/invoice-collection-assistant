# 2.3 D√©tail Facture ‚≠ê NOUVEAU

**Fichier** : `src/pages/InvoiceDetail.tsx` (√† cr√©er)
**Maquette** : `specs/V2/mockups/facture_detail.html`
**Statut** : üî¥ Non commenc√©

---

## T√¢ches

### 2.3.1 Cr√©er route `/invoices/:id`
- [ ] Ajouter dans `App.tsx`

### 2.3.2 Layout 2 colonnes
- [ ] Colonne gauche (35%) : D√©tails facture
- [ ] Colonne droite (65%) : Historique
- [ ] Responsive : empil√©es sur mobile

### 2.3.3 D√©tails facture (colonne gauche)
- [ ] Badge statut dynamique (large)
- [ ] Infos : N¬∞ Facture, Client, Montant TTC, Solde D√ª, Date facture, √âch√©ance, Retard
- [ ] Section "Client" : Nom, Email, T√©l√©phone, Technicien

### 2.3.4 Actions rapides (4 boutons)
- [ ] "Marquer comme pay√©e" ‚Üí Modal confirmation
- [ ] "Loguer une action" ‚Üí Modal textarea
- [ ] "Mettre en pause" ‚Üí Toggle
- [ ] "T√©l√©charger PDF" ‚Üí Download

### 2.3.5 Historique d√©taill√© (colonne droite)
- [ ] Timeline verticale (composant Timeline)
- [ ] Types d'√©v√©nements :
  - Cr√©ation (ic√¥ne File)
  - Relance auto (ic√¥ne PaperPlaneTilt)
  - Email ouvert (ic√¥ne EnvelopeOpen) - Nouveau
  - Action manuelle (ic√¥ne User)
  - Paiement (ic√¥ne Check green)
- [ ] Chaque entry : Timestamp + description + auteur

---

## Backend requis

- [ ] Query `invoices.getDetailWithHistory`
- [ ] Table `invoiceHistory` (ou enrichir `reminders`)
  - Champs : invoiceId, type, description, createdBy, createdAt
- [ ] Mutation `invoices.logAction` (pour "Loguer une action")
- [ ] Mutation `invoices.togglePause`
