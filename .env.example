# Convex
# Les variables d'environnement Convex doivent √™tre configur√©es dans le Dashboard Convex
# Settings ‚Üí Environment Variables

# API Claude pour l'extraction PDF
CLAUDE_API_KEY=your-anthropic-api-key-here

# OAuth Microsoft (Phase 3 - Relances automatiques)
# Pour configurer une application Azure AD :
# 1. Aller sur https://portal.azure.com
# 2. Azure Active Directory ‚Üí App registrations ‚Üí New registration
# 3. Configurer les scopes : Mail.Send, User.Read, offline_access
# 4. G√©n√©rer un Client Secret dans "Certificates & secrets"
# 5. Configurer les URIs de redirection (voir ci-dessous)

MICROSOFT_CLIENT_ID=your-azure-app-client-id
MICROSOFT_CLIENT_SECRET=your-azure-app-client-secret
MICROSOFT_TENANT_ID="common ou votre tenant ID sp√©cifique"

# URI de redirection OAuth
# üéØ L'URL de Redirection OAuth Pointe vers le Backend Convex
#
#  L'URL de redirection OAuth n'est pas l'URL de votre frontend React, mais l'URL de votre route HTTP Convex qui g√®re le callback.
#
#  üìç Flow OAuth Complet
#
#  1. Frontend (localhost:5173) : Utilisateur clique "Connecter Outlook"
#  2. Popup Microsoft : Utilisateur autorise l'application
#  3. Microsoft redirige vers ‚Üí https://fabulous-dachshund-120.convex.site/oauth/microsoft/callback ‚Üê Route HTTP Convex
#  4. Backend Convex (convex/router.ts) :
#    - √âchange le code contre des tokens
#    - Sauvegarde dans la DB
#    - Redirige vers le frontend : /settings?tab=organization&oauth=success
# En d√©veloppement local : https://fabulous-dachshund-120.convex.site/oauth/microsoft/callback
# En production Convex : https://fabulous-dachshund-120.convex.site/oauth/microsoft/callback
MICROSOFT_REDIRECT_URI=https://fabulous-dachshund-120.convex.site/oauth/microsoft/callback

# URL du frontend (pour redirection apr√®s OAuth callback)
# En d√©veloppement : http://localhost:5173
# En production : https://votre-domaine.com
FRONTEND_URL=http://localhost:5173

# NOTE : Les deux URIs (localhost + production) doivent √™tre ajout√©es dans Azure AD
